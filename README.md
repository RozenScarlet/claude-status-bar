# Claude Status Bar

ä¸º Claude Code æ·»åŠ ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„è‡ªå®šä¹‰çŠ¶æ€æ ï¼Œå®æ—¶æ˜¾ç¤º API ä½¿ç”¨æƒ…å†µã€é¡¹ç›®ç»Ÿè®¡ã€Git ä¿¡æ¯ç­‰ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ’° **è®¢é˜…é…é¢ç›‘æ§**ï¼šå®æ—¶æ˜¾ç¤º5å°æ—¶çª—å£å’Œå‘¨çª—å£çš„ä½¿ç”¨æƒ…å†µ
- ğŸ“Š **å¯è§†åŒ–è¿›åº¦æ¡**ï¼šç›´è§‚çš„ä½¿ç”¨ç‡è¿›åº¦æ¡ï¼Œå¸¦é‡ç½®æ—¶é—´å€’è®¡æ—¶
- ğŸ¤– **æ¨¡å‹ä¿¡æ¯æ˜¾ç¤º**ï¼šå½“å‰ä½¿ç”¨çš„æ¨¡å‹ï¼ˆOpus/Sonnet/Haikuï¼‰å¸¦ä¸“å±å›¾æ ‡
- ğŸ“ **é¡¹ç›®ç»Ÿè®¡**ï¼šå½“å‰é¡¹ç›®çš„æ€»Tokenæ¶ˆè€—ã€è´¹ç”¨ã€å·¥ä½œæ—¶é—´
- ğŸ”„ **Git ä»“åº“çŠ¶æ€**ï¼šåˆ†æ”¯åã€ä¿®æ”¹æ–‡ä»¶æ•°ç­‰
- ğŸ§  **ä¸Šä¸‹æ–‡ä½¿ç”¨æƒ…å†µ**ï¼šåŸºäºç™¾åˆ†æ¯”çš„æ™ºèƒ½é¢œè‰²æç¤º
- ğŸ¨ **å½©è‰²è¾“å‡º**ï¼šANSIé¢œè‰²ä»£ç ç¾åŒ–ï¼Œæ¸…æ™°æ˜“è¯»
- ğŸ• **å½“å‰æ—¶é—´**ï¼šå®æ—¶æ˜¾ç¤ºç³»ç»Ÿæ—¶é—´

## çŠ¶æ€æ é¢„è§ˆ

```
ğŸ’°5h:â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘60.0%(â†»3h45m) å‘¨:â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘40.0%(â†»5d12h) â”ƒ âœ¨Opus 4.5 â”ƒ ğŸŒ¿main(3) â”ƒ ğŸ§ 45k/200k(22%) â”ƒ ğŸ“my-project:1.2M($18.50) â±ï¸ 5.2h ğŸ•14:30
```

## å¿«é€Ÿå¼€å§‹

### ä¸€é”®å®‰è£…

#### Windows ç”¨æˆ·

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/RozenScarlet/claude-status-bar.git
cd claude-status-bar

# 2. è¿è¡Œå®‰è£…è„šæœ¬
setup.bat
```

#### Linux/Mac ç”¨æˆ·

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/RozenScarlet/claude-status-bar.git
cd claude-status-bar

# 2. è¿è¡Œå®‰è£…è„šæœ¬
chmod +x setup.sh
./setup.sh
```

å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ£€æŸ¥ Python ç¯å¢ƒ
2. å®‰è£…æ‰€éœ€ä¾èµ–ï¼ˆrequestsã€urllib3ï¼‰
3. å¤åˆ¶æ–‡ä»¶åˆ° `~/.claude` ç›®å½•
4. æç¤ºæ‚¨é…ç½® API Key
5. æ›´æ–° Claude Code çš„ `settings.json`
6. è‡ªåŠ¨å¤‡ä»½åŸé…ç½®æ–‡ä»¶
7. æµ‹è¯•è¿è¡ŒçŠ¶æ€æ 

## ç³»ç»Ÿè¦æ±‚

- Python 3.6+
- Claude Code
- ä¾èµ–åŒ…ï¼š`requests`ã€`urllib3`ï¼ˆå®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ï¼‰

## é…ç½®è¯´æ˜

æœ¬é¡¹ç›®æ”¯æŒ **Cubence API**ï¼Œç”¨äºè·å–è®¢é˜…é…é¢ä¿¡æ¯ã€‚

### é…ç½®æ­¥éª¤

ç¼–è¾‘ `~/.claude/status-final.py`ï¼Œä¿®æ”¹é¡¶éƒ¨çš„é…ç½®ä¿¡æ¯ï¼š

```python
# Cubence API é…ç½®ï¼ˆä» https://cubence.com è·å–ï¼‰
CUBENCE_API_KEY = "sk-user-your-api-key-here"
```

å°† `sk-user-your-api-key-here` æ›¿æ¢ä¸ºä½ çš„ Cubence API Keyã€‚

### è·å– API Key

1. è®¿é—® [Cubence](https://cubence.com)
2. ç™»å½•ä½ çš„è´¦å·
3. åœ¨è´¦æˆ·è®¾ç½®ä¸­è·å– API Key

## æ‰‹åŠ¨å®‰è£…

å¦‚æœè‡ªåŠ¨å®‰è£…è„šæœ¬é‡åˆ°é—®é¢˜ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨å®‰è£…ï¼š

### 1. å¤åˆ¶æ–‡ä»¶

å°† `status-final.py` å’Œ `run-status.bat`ï¼ˆWindowsï¼‰å¤åˆ¶åˆ° `~/.claude` ç›®å½•ï¼š

```bash
# Windows
copy status-final.py %USERPROFILE%\.claude\
copy run-status.bat %USERPROFILE%\.claude\

# Linux/Mac
cp status-final.py ~/.claude/
```

### 2. é…ç½® API Key

ç¼–è¾‘ `~/.claude/status-final.py`ï¼Œä¿®æ”¹é¡¶éƒ¨çš„é…ç½®ï¼š

```python
CUBENCE_API_KEY = "sk-user-your-api-key-here"
```

### 3. å®‰è£…ä¾èµ–

```bash
pip install requests urllib3
```

### 4. é…ç½® Claude Code

ç¼–è¾‘ `~/.claude/settings.json`ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

#### Windows

```json
{
  "statusLine": {
    "type": "command",
    "command": "C:\\Users\\ä½ çš„ç”¨æˆ·å\\.claude\\run-status.bat"
  }
}
```

#### Linux/Mac

é¦–å…ˆåˆ›å»º `run-status.sh`ï¼š

```bash
cat > ~/.claude/run-status.sh << 'EOF'
#!/bin/bash
export LANG=en_US.UTF-8
export PYTHONIOENCODING=utf-8
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
python3 "$SCRIPT_DIR/status-final.py"
EOF

chmod +x ~/.claude/run-status.sh
```

ç„¶åé…ç½®ï¼š

```json
{
  "statusLine": {
    "type": "command",
    "command": "/home/ä½ çš„ç”¨æˆ·å/.claude/run-status.sh"
  }
}
```

### 5. é‡å¯ Claude Code

é‡å¯ Claude Code ä»¥æŸ¥çœ‹çŠ¶æ€æ æ•ˆæœã€‚

## çŠ¶æ€æ æ˜¾ç¤ºå†…å®¹

çŠ¶æ€æ åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼ˆä»å·¦åˆ°å³ï¼‰ï¼š

| æ¨¡å— | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **é…é¢ä¿¡æ¯** | 5å°æ—¶çª—å£ + å‘¨çª—å£ä½¿ç”¨ç‡ | `ğŸ’°5h:â–ˆâ–ˆâ–‘â–‘60%(â†»3h) å‘¨:â–ˆâ–ˆâ–‘â–‘40%(â†»5d)` |
| **æ¨¡å‹** | å½“å‰ä½¿ç”¨çš„ AI æ¨¡å‹ | `âœ¨Opus 4.5` / `âš¡Sonnet` / `ğŸƒHaiku` |
| **Git** | Git ä»“åº“ä¿¡æ¯ | `ğŸŒ¿main(3)` |
| **ä¸Šä¸‹æ–‡** | å½“å‰ä¼šè¯ä¸Šä¸‹æ–‡ä½¿ç”¨é‡ | `ğŸ§ 45k/200k(22%)` |
| **é¡¹ç›®** | é¡¹ç›®ç»Ÿè®¡ä¿¡æ¯ | `ğŸ“é¡¹ç›®:1.2M($18.50) â±ï¸5.2h ğŸ•14:30` |

### é¢œè‰²å«ä¹‰

#### é…é¢ä½¿ç”¨ç‡
- ç»¿è‰²/ç™½è‰²ï¼š0-40%ï¼ˆå®‰å…¨ï¼‰
- é»„è‰²ï¼š40-80%ï¼ˆè­¦å‘Šï¼‰
- çº¢è‰²ï¼š80%ä»¥ä¸Šï¼ˆå±é™©ï¼‰

#### ä¸Šä¸‹æ–‡ä½¿ç”¨ç‡
- ç»¿è‰²ï¼š0-30%ï¼ˆè½»æ¾ï¼‰
- é’è‰²/è“è‰²ï¼š30-50%ï¼ˆæ­£å¸¸ï¼‰
- é»„è‰²ï¼š50-70%ï¼ˆè­¦å‘Šï¼‰
- çº¢è‰²ï¼š70%ä»¥ä¸Šï¼ˆå±é™©ï¼Œå»ºè®®æ¸…ç†ï¼‰

#### Git ä¿®æ”¹æ–‡ä»¶æ•°
- é»„è‰²æ•°å­—ï¼š1-5ä¸ªæ–‡ä»¶
- æ©™è‰²æ•°å­—ï¼š6-10ä¸ªæ–‡ä»¶
- çº¢è‰²ç«ç„°ï¼š10ä¸ªä»¥ä¸Šæ–‡ä»¶

## å¸¸è§é—®é¢˜

### Q: çŠ¶æ€æ ä¸æ˜¾ç¤ºæ€ä¹ˆåŠï¼Ÿ

1. ç¡®è®¤å·²æ­£ç¡®é…ç½® `settings.json`
2. æ£€æŸ¥ Python æ˜¯å¦æ­£ç¡®å®‰è£…
3. ç¡®è®¤ä¾èµ–åŒ…å·²å®‰è£…ï¼š`pip list | grep requests`
4. å°è¯•æ‰‹åŠ¨è¿è¡Œè„šæœ¬æµ‹è¯•ï¼š`python ~/.claude/status-final.py`

### Q: é…é¢ä¿¡æ¯æ˜¾ç¤º"è·å–å¤±è´¥"ï¼Ÿ

è¯·ç¡®è®¤ï¼š
1. API Key é…ç½®æ­£ç¡®
2. ç½‘ç»œè¿æ¥æ­£å¸¸
3. Cubence æœåŠ¡å¯è®¿é—®

### Q: ä¸Šä¸‹æ–‡æ˜¾ç¤º"ERR"ï¼Ÿ

è¿™è¡¨ç¤ºæ— æ³•ä» Claude Code è·å–ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚å¯èƒ½åŸå› ï¼š
- æ–°å¯åŠ¨çš„ä¼šè¯è¿˜æ²¡æœ‰æ¶ˆæ¯
- transcript.jsonl æ–‡ä»¶ä¸å­˜åœ¨

### Q: å¦‚ä½•è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹ï¼Ÿ

æ‚¨å¯ä»¥ç¼–è¾‘ `status-final.py` ä¸­çš„ `main()` å‡½æ•°æ¥è‡ªå®šä¹‰çŠ¶æ€æ çš„æ˜¾ç¤ºå†…å®¹å’Œé¡ºåºã€‚

### Q: å¦‚ä½•å¸è½½ï¼Ÿ

1. åˆ é™¤ `~/.claude/status-final.py` å’Œ `~/.claude/run-status.bat`
2. ä» `~/.claude/settings.json` ä¸­ç§»é™¤ `statusLine` é…ç½®
3. é‡å¯ Claude Code

## æ›´æ–°æ—¥å¿—

### v2.0.0 (2024-12)
- æ–°å¢ï¼šCubence API æ”¯æŒï¼Œ5å°æ—¶+å‘¨çª—å£é…é¢æ˜¾ç¤º
- æ–°å¢ï¼šé‡ç½®æ—¶é—´å€’è®¡æ—¶æ˜¾ç¤º
- ä¼˜åŒ–ï¼šä¸Šä¸‹æ–‡ä½¿ç”¨ç‡æ”¹ä¸ºåŸºäºç™¾åˆ†æ¯”çš„é˜ˆå€¼åˆ¤æ–­
- ä¼˜åŒ–ï¼šè¿›åº¦æ¡è§†è§‰æ•ˆæœæ”¹è¿›
- ä¼˜åŒ–ï¼šå¢å¼ºçš„æ•°æ®ç»“æ„æ”¯æŒï¼Œæé«˜ä¸Šä¸‹æ–‡è·å–æˆåŠŸç‡

### v1.0.0 (2024-10)
- åˆå§‹ç‰ˆæœ¬
- æ”¯æŒ Super-Yi API
- åŸºç¡€çŠ¶æ€æ åŠŸèƒ½

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·åœ¨ GitHub ä¸Šæäº¤ Issueã€‚
